import{q as I,u as q,m as B,v as C,f as M,s as N,r as j,_ as P}from"./wyzx-924a8d75.js";import{_ as D,F as O,u as R}from"./index-df720b22.js";import{i as z}from"./sslx-5e57d8b1.js";import{G}from"./gitalk-eccc257c.js";import{J,r as d,c as K,av as y,K as h,L as g,a2 as t,a0 as r,u as x,_ as p,a5 as w,Y as L,ai as V,a4 as H,n as Y,aJ as Q,aK as U}from"./element-icon-b56a657b.js";import"./library-63277eea.js";import"./md-13452f76.js";import"./fgly-ad50c4ac.js";const W=s=>(Q("data-v-b069e7ad"),s=s(),U(),s),X={class:"common-layout"},Z={class:"article"},ee=["onClick"],te={style:{cursor:"pointer"}},oe=W(()=>p("div",{id:"gitalk-container"},null,-1)),ae=J({__name:"Article",setup(s){const _=d(""),m=d("notFound"),u=z(),v=d(),S=o=>{const{lineIndex:i}=o,e=v.value.$el.querySelector(`[data-v-md-line="${i}"]`);e&&window.scrollTo({top:e.offsetTop,behavior:"smooth"})},a=d(),b=()=>{const o=v.value.$el.querySelectorAll("h2,h3,h4,h5");if(a.value=Array.from(o).filter(e=>!!e.innerText.trim()),!a.value.length){a.value=[];return}const i=Array.from(new Set(a.value.map(e=>e.tagName))).sort();a.value=a.value.map(e=>({title:`Â· ${e.innerText}`,lineIndex:e.getAttribute("data-v-md-line"),indent:i.indexOf(e.tagName)}))};K(()=>b());async function E(){const{path:o,query:i,params:e}=R(),l=`${o}.md`;try{const n=await fetch(l);if(!n.ok)throw new Error("Failed to load the file");_.value=await n.text();const c=o.indexOf("/",1);m.value=o.substring(c,o.indexOf("/",c+1)),await Y(),b(),new G({proxy:"https://cors-server-bingjiaqins-projects.vercel.app/github_access_token",clientID:"bd70159022856152eba3",clientSecret:"00c5f2aa482dab0cad6074e4d96ccae5def604a5",repo:"bing16",owner:"bingjiaqin",admin:["bingjiaqin"],id:l,distractionFreeMode:!1}).render("gitalk-container")}catch(n){console.log(`Error loading the text file: ${n}`),_.value="## 404 Not Fount",m.value="notFound"}}return E(),(o,i)=>{const e=I,l=q,n=y("Memo"),c=B,k=C,F=y("v-md-editor"),T=M,$=N,A=j;return h(),g("div",X,[t(e,null,{default:r(()=>[t(D,{backTo:m.value},null,8,["backTo"])]),_:1}),t(l,{right:x(u)?10:100,bottom:100},null,8,["right"]),t($,{class:"mainPage"},{default:r(()=>[p("div",Z,[t(k,{placement:"top",width:250,style:{right:"200px"},trigger:"click"},{reference:r(()=>[p("div",{class:"directory",style:w({right:x(u)?"10px":"40px",bottom:x(u)?"40px":"100px"})},[t(c,{style:{color:"var(--el-color-primary)"}},{default:r(()=>[t(n)]),_:1})],4)]),default:r(()=>[(h(!0),g(L,null,V(a.value,f=>(h(),g("div",{style:w({padding:`2px 0 2px ${f.indent*14}px`,fontSize:"14px"}),onClick:ne=>S(f)},[p("a",te,H(f.title),1)],12,ee))),256))]),_:1}),t(F,{"model-value":_.value,mode:"preview",ref_key:"previewRef",ref:v},null,8,["model-value"]),t(T),oe])]),_:1}),t(A,null,{default:r(()=>[t(O)]),_:1})])}}});const me=P(ae,[["__scopeId","data-v-b069e7ad"]]);export{me as default};
