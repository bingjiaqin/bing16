import{u as j,a as D,t as O,b as P,E as F,_ as R,w as V,i as z,c as H,F as L,d as G,e as U,f as W,g as X,h as Z,j as J}from"./index-38dba7ab.js";import{s as $,k as f,v as A,f as T,h as K,o as k,W as Q,X as h,u as t,c as w,$ as S,V as C,Z as Y,L as ee,d as l,U as te,a0 as oe,r as N,a as g,S as ae,T as ne,F as se,a8 as le,_ as re,n as ie,al as ce,am as de}from"./md-3d618197.js";import{G as ue}from"./gitalk-eccc257c.js";import{A as pe}from"./library-8d1330ea.js";const me={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},_e={click:o=>o instanceof MouseEvent},ve=(o,d,c)=>{const e=$(),i=$(),p=f(!1),n=()=>{e.value&&(p.value=e.value.scrollTop>=o.visibilityHeight)},m=r=>{var s;(s=e.value)==null||s.scrollTo({top:0,behavior:"smooth"}),d("click",r)},_=j(n,300,!0);return D(i,"scroll",_),A(()=>{var r;i.value=document,e.value=document.documentElement,o.target&&(e.value=(r=document.querySelector(o.target))!=null?r:void 0,e.value||O(c,`target does not exist: ${o.target}`),i.value=e.value),n()}),{visible:p,handleClick:m}},B="ElBacktop",fe=T({name:B}),he=T({...fe,props:me,emits:_e,setup(o,{emit:d}){const c=o,e=P("backtop"),{handleClick:i,visible:p}=ve(c,d,B),n=K(()=>({right:`${c.right}px`,bottom:`${c.bottom}px`}));return(m,_)=>(k(),Q(oe,{name:`${t(e).namespace.value}-fade-in`},{default:h(()=>[t(p)?(k(),w("div",{key:0,style:S(t(n)),class:C(t(e).b()),onClick:_[0]||(_[0]=Y((...r)=>t(i)&&t(i)(...r),["stop"]))},[ee(m.$slots,"default",{},()=>[l(t(F),{class:C(t(e).e("icon"))},{default:h(()=>[l(t(pe))]),_:1},8,["class"])])],6)):te("v-if",!0)]),_:3},8,["name"]))}});var ge=R(he,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const ke=V(ge);const be=o=>(ce("data-v-740a09d4"),o=o(),de(),o),xe={class:"common-layout"},ye={class:"article"},we=["onClick"],Se={style:{cursor:"pointer"}},Te=be(()=>g("div",{id:"gitalk-container"},null,-1)),Ee=T({__name:"Article",setup(o){const d=f(""),c=f("notFound"),e=z(),i=f(),p=s=>{const{lineIndex:u}=s,a=i.value.$el.querySelector(`[data-v-md-line="${u}"]`);a&&window.scrollTo({top:a.offsetTop,behavior:"smooth"})},n=f(),m=()=>{const s=i.value.$el.querySelectorAll("h2,h3,h4,h5");if(n.value=Array.from(s).filter(a=>!!a.innerText.trim()),!n.value.length){n.value=[];return}const u=Array.from(new Set(n.value.map(a=>a.tagName))).sort();n.value=n.value.map(a=>({title:`Â· ${a.innerText}`,lineIndex:a.getAttribute("data-v-md-line"),indent:u.indexOf(a.tagName)}))};A(()=>m());async function _(){const{path:s,query:u,params:a}=G(),b=`${s}.md`;try{const v=await fetch(b);if(!v.ok)throw new Error("Failed to load the file");d.value=await v.text();const x=s.indexOf("/",1);c.value=s.substring(x,s.indexOf("/",x+1)),await ie(),m(),new ue({proxy:"https://cors-server-bingjiaqins-projects.vercel.app/github_access_token",clientID:"bd70159022856152eba3",clientSecret:"00c5f2aa482dab0cad6074e4d96ccae5def604a5",repo:"bing16",owner:"bingjiaqin",admin:["bingjiaqin"],id:b,distractionFreeMode:!1}).render("gitalk-container")}catch(v){console.log(`Error loading the text file: ${v}`),d.value="## 404 Not Fount",c.value="notFound"}}_();const r=f(!1);return(s,u)=>{const a=U,b=ke,v=N("Memo"),x=F,E=N("v-md-editor"),M=W,I=X,q=Z;return k(),w("div",xe,[l(a,null,{default:h(()=>[l(H,{backTo:c.value},null,8,["backTo"])]),_:1}),l(b,{right:t(e)?10:100,bottom:100},null,8,["right"]),l(I,{class:"mainPage"},{default:h(()=>[g("div",ye,[g("div",{class:"directory",onClick:u[0]||(u[0]=y=>r.value=!r.value),style:S({right:t(e)?"10px":"40px",bottom:t(e)?"40px":"100px","background-color":r.value?"#fffaf9":""})},[l(x,{style:{color:"var(--el-color-primary)"}},{default:h(()=>[l(v)]),_:1})],4),ae(g("div",{class:"directory-box",style:S({right:t(e)?"10px":"40px",bottom:t(e)?"96px":"156px"})},[(k(!0),w(se,null,le(n.value,y=>(k(),w("div",{class:"directory-item",style:S({padding:`2px 0 2px ${y.indent*14}px`,fontSize:"14px"}),onClick:$e=>p(y)},[g("a",Se,re(y.title),1)],12,we))),256))],4),[[ne,r.value]]),l(E,{"model-value":d.value,mode:"preview",ref_key:"previewRef",ref:i},null,8,["model-value"]),l(M),Te])]),_:1}),l(q,null,{default:h(()=>[l(L)]),_:1})])}}});const Be=J(Ee,[["__scopeId","data-v-740a09d4"]]);export{Be as default};
