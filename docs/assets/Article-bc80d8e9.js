import{_ as I}from"./wyzx-977877ba.js";import{_ as q,F as B,u as C}from"./index-fd8b2d9b.js";import{i as M}from"./sslx-51d45a92.js";import{G as N}from"./gitalk-62a28645.js";import{H as j,r as d,p as D,f as k,o as h,c as g,h as t,w as r,u as x,a as p,O as w,F as O,i as P,t as z,D as R,a0 as G,a5 as H,Y as V,a6 as L,y as Y,a2 as J,a1 as K,z as Q,A as U}from"./element-0d8dc336.js";import"./element-icon-41e8550e.js";import"./library-423f3b12.js";import"./md-505e2395.js";import"./fgly-2cce7f40.js";const W=s=>(Q("data-v-b069e7ad"),s=s(),U(),s),X={class:"common-layout"},Z={class:"article"},ee=["onClick"],te={style:{cursor:"pointer"}},oe=W(()=>p("div",{id:"gitalk-container"},null,-1)),ae=j({__name:"Article",setup(s){const _=d(""),m=d("notFound"),u=M(),f=d(),F=o=>{const{lineIndex:i}=o,e=f.value.$el.querySelector(`[data-v-md-line="${i}"]`);e&&window.scrollTo({top:e.offsetTop,behavior:"smooth"})},a=d(),y=()=>{const o=f.value.$el.querySelectorAll("h2,h3,h4,h5");if(a.value=Array.from(o).filter(e=>!!e.innerText.trim()),!a.value.length){a.value=[];return}const i=Array.from(new Set(a.value.map(e=>e.tagName))).sort();a.value=a.value.map(e=>({title:`Â· ${e.innerText}`,lineIndex:e.getAttribute("data-v-md-line"),indent:i.indexOf(e.tagName)}))};D(()=>y());async function S(){const{path:o,query:i,params:e}=C(),l=`${o}.md`;try{const n=await fetch(l);if(!n.ok)throw new Error("Failed to load the file");_.value=await n.text();const c=o.indexOf("/",1);m.value=o.substring(c,o.indexOf("/",c+1)),await R(),y(),new N({proxy:"https://cors-server-bingjiaqins-projects.vercel.app/github_access_token",clientID:"bd70159022856152eba3",clientSecret:"00c5f2aa482dab0cad6074e4d96ccae5def604a5",repo:"bing16",owner:"bingjiaqin",admin:["bingjiaqin"],id:l,distractionFreeMode:!1}).render("gitalk-container")}catch(n){console.log(`Error loading the text file: ${n}`),_.value="## 404 Not Fount",m.value="notFound"}}return S(),(o,i)=>{const e=G,l=H,n=k("Memo"),c=V,b=L,E=k("v-md-editor"),T=Y,A=J,$=K;return h(),g("div",X,[t(e,null,{default:r(()=>[t(q,{backTo:m.value},null,8,["backTo"])]),_:1}),t(l,{right:x(u)?10:100,bottom:100},null,8,["right"]),t(A,{class:"mainPage"},{default:r(()=>[p("div",Z,[t(b,{placement:"top",width:250,style:{right:"200px"},trigger:"click"},{reference:r(()=>[p("div",{class:"directory",style:w({right:x(u)?"10px":"40px",bottom:x(u)?"40px":"100px"})},[t(c,{style:{color:"var(--el-color-primary)"}},{default:r(()=>[t(n)]),_:1})],4)]),default:r(()=>[(h(!0),g(O,null,P(a.value,v=>(h(),g("div",{style:w({padding:`2px 0 2px ${v.indent*14}px`,fontSize:"14px"}),onClick:ne=>F(v)},[p("a",te,z(v.title),1)],12,ee))),256))]),_:1}),t(E,{"model-value":_.value,mode:"preview",ref_key:"previewRef",ref:f},null,8,["model-value"]),t(T),oe])]),_:1}),t($,null,{default:r(()=>[t(B)]),_:1})])}}});const ue=I(ae,[["__scopeId","data-v-b069e7ad"]]);export{ue as default};
