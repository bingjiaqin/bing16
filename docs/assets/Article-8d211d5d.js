import{i as I,_ as q,F as B,u as C,a as M}from"./index-43930290.js";import{G as j}from"./gitalk-e25e4905.js";import{j as N,q as d,R as P,r as y,o as h,c as g,f as t,x as r,u as x,a as p,B as w,F as R,A as D,S as O,n as z,a0 as G,a5 as V,Y as H,a6 as J,W as K,a2 as L,a1 as W,J as Y,K as Q}from"./element-750eba28.js";import"./element-icon-1acb579e.js";import"./library-4becc75e.js";import"./md-6b0c3a13.js";const U=i=>(Y("data-v-b069e7ad"),i=i(),Q(),i),X={class:"common-layout"},Z={class:"article"},ee=["onClick"],te={style:{cursor:"pointer"}},oe=U(()=>p("div",{id:"gitalk-container"},null,-1)),ae=N({__name:"Article",setup(i){const _=d(""),u=d("notFound"),m=I(),v=d(),S=o=>{const{lineIndex:s}=o,e=v.value.$el.querySelector(`[data-v-md-line="${s}"]`);e&&window.scrollTo({top:e.offsetTop,behavior:"smooth"})},a=d(),b=()=>{const o=v.value.$el.querySelectorAll("h2,h3,h4,h5");if(a.value=Array.from(o).filter(e=>!!e.innerText.trim()),!a.value.length){a.value=[];return}const s=Array.from(new Set(a.value.map(e=>e.tagName))).sort();a.value=a.value.map(e=>({title:`Â· ${e.innerText}`,lineIndex:e.getAttribute("data-v-md-line"),indent:s.indexOf(e.tagName)}))};P(()=>b());async function F(){const{path:o,query:s,params:e}=C(),l=`${o}.md`;try{const n=await fetch(l);if(!n.ok)throw new Error("Failed to load the file");_.value=await n.text();const c=o.indexOf("/",1);u.value=o.substring(c,o.indexOf("/",c+1)),await z(),b(),new j({proxy:"https://cors-server-bingjiaqins-projects.vercel.app/github_access_token",clientID:"bd70159022856152eba3",clientSecret:"00c5f2aa482dab0cad6074e4d96ccae5def604a5",repo:"bing16",owner:"bingjiaqin",admin:["bingjiaqin"],id:l,distractionFreeMode:!1}).render("gitalk-container")}catch(n){console.log(`Error loading the text file: ${n}`),_.value="## 404 Not Fount",u.value="notFound"}}return F(),(o,s)=>{const e=G,l=V,n=y("Memo"),c=H,k=J,E=y("v-md-editor"),T=K,A=L,$=W;return h(),g("div",X,[t(e,null,{default:r(()=>[t(q,{backTo:u.value},null,8,["backTo"])]),_:1}),t(l,{right:x(m)?10:100,bottom:100},null,8,["right"]),t(A,{class:"mainPage"},{default:r(()=>[p("div",Z,[t(k,{placement:"top",width:250,style:{right:"200px"},trigger:"click"},{reference:r(()=>[p("div",{class:"directory",style:w({right:x(m)?"10px":"40px",bottom:x(m)?"40px":"100px"})},[t(c,{style:{color:"var(--el-color-primary)"}},{default:r(()=>[t(n)]),_:1})],4)]),default:r(()=>[(h(!0),g(R,null,D(a.value,f=>(h(),g("div",{style:w({padding:`2px 0 2px ${f.indent*14}px`,fontSize:"14px"}),onClick:ne=>S(f)},[p("a",te,O(f.title),1)],12,ee))),256))]),_:1}),t(E,{"model-value":_.value,mode:"preview",ref_key:"previewRef",ref:v},null,8,["model-value"]),t(T),oe])]),_:1}),t($,null,{default:r(()=>[t(B)]),_:1})])}}});const pe=M(ae,[["__scopeId","data-v-b069e7ad"]]);export{pe as default};
